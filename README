PDIC CUI search - PDICを検索とか（ほげほげとか）する簡易CUIツール
であります

(c) 2012 by naoya_t

■目的

PDIC形式の辞書資産の活用（+個人的な研究）が目的です。

内部でBOCU-1符号化された上、見出し語が圧縮格納されているPDIC形式は、
データ収納効率はよく考えられていて素晴らしいと思うのですが、
そのままでは近代的で高速な全文検索手法には向いていないと思うので、
例えば英辞郎の検索だけが目当てなら、取り急ぎPDIC形式辞書ではなくTEXT形式の辞書を入手した上、
saryとかkyoto cabinetで検索したらいいんじゃないかと思います。

■必要なもの

- GNU C++
- iconv, gtest, re2
- PDIC辞書がないと意味ない

■簡単な用法

.pdicrc.sample を ~/.pdicrc としてコピーして、編集して使ってください。

起動するとプロンプトが出ます。辞書が選択されていれば、入力した文字列を検索します。正規表現でいうと
  (1) word → /^word$/
  (2) word* → /^word/
  (3) *word → /word/
  (4) /word/ → /word/ (※そのまま正規表現として)
のような検索になります。

(1)(2)ではPDICが持つインデックスを利用した前方一致検索を行います。

(3) の*word ではsuffix arrayを用いて高速に見出し語全検索を行います。（要インデックス作成）
※今はインデックスを小さめにしていて、単語の先頭からしかマッチしないようになっています。英単語の途中からのマッチングをどうするか、音節単位とか、接頭辞接尾辞区切りとか検討中です。(1/12)

(4) では正規表現ライブラリre2を利用した見出し語全検索を行います。単語の一部分にマッチするような検索も可能です。

正規表現検索絶賛実装中です。(1/13)
and/orは正規表現に置き換え可能ですよね…

■特殊コマンド

特殊コマンドは先頭に . をつけます。

.list
    - 現在ロードされている辞書一覧。
.aliases
    - 設定されているエイリアス一覧。
.add loadpath
    - 辞書ロードパスを追加。
.group グループ名 = 名前1 名前2 ... 
    - 辞書グループを登録。
.load ファイル名
    - 辞書を
.use 辞書名
    - ターゲット辞書を変更。
.make index
    - カレント辞書のsuffix arrayインデックスを生成します。（今のところ見出し語のみ）
.dump {header|index|words|datablock|all}
    - ダンプコマンド。〈これはいまのところ開発用〉
    - 見出し語の全リストが .dump words で取れるとか
.lookup 文字列
    - 検索実行。プロンプトに単に文字列を打ち込むのと同義。
.quit あるいは .bye
    - 終了。

■注意事項

GNU Lesser General Public License version 2 で公開します。COPYING 参照。
無保証です。
あと、辞書は付属していません。

■連絡先

@naoya_t とか
